# ShotBoard v0.1 MVP è¦æ ¼æ›¸

## ç”¢å“å®šä½

**ä¸€å¥è©±æè¿°**ï¼šæˆªåœ– â†’ è²¼åˆ°ç™½æ¿ â†’ åŠ è¨»è¨˜ â†’ é–‹é¡é ­æ³¡æ³¡ â†’ ä¸€éµéŒ„å½±è¼¸å‡º

**ç›®æ¨™ç”¨æˆ¶**ï¼šéœ€è¦å¿«é€Ÿç”¢å‡ºæ•™å­¸ã€è§£èªªã€å›é¥‹å½±ç‰‡çš„å‰µä½œè€…

**æ ¸å¿ƒåƒ¹å€¼**ï¼šæŠŠã€Œæˆªåœ–æ¨™è¨» + äººåƒéŒ„å½±ã€çš„æµç¨‹å£“ç¸®åˆ°ä¸€å€‹å·¥å…·å…§å®Œæˆ

---

## æŠ€è¡“æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Electron App                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Screenshot â”‚  â”‚  Whiteboard â”‚  â”‚  Recorder   â”‚  â”‚
â”‚  â”‚   Module    â”‚  â”‚   Engine    â”‚  â”‚   Module    â”‚  â”‚
â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚  â”‚
â”‚  â”‚ electron-   â”‚  â”‚ Excalidraw  â”‚  â”‚ Canvas      â”‚  â”‚
â”‚  â”‚ capture     â”‚  â”‚ (MIT)       â”‚  â”‚ Compositor  â”‚  â”‚
â”‚  â”‚ desktopCap- â”‚  â”‚             â”‚  â”‚ MediaRec-   â”‚  â”‚
â”‚  â”‚ turer API   â”‚  â”‚             â”‚  â”‚ order       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                 React + TypeScript                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€è¡“é¸å‹

| å±¤ç´š | é¸æ“‡ | åŸå›  |
|------|------|------|
| æ¡Œé¢æ¡†æ¶ | Electron | å…¨è¢å¹•æˆªåœ–ã€è·¨æ‡‰ç”¨å–ç•«é¢ã€å¿«æ·éµã€æª”æ¡ˆå­˜å– |
| å‰ç«¯æ¡†æ¶ | React + TypeScript | ç”Ÿæ…‹æˆç†Ÿã€å‹åˆ¥å®‰å…¨ |
| ç™½æ¿å¼•æ“ | Excalidraw (MIT) | æˆæ¬Šè‡ªç”±ã€åµŒå…¥å®¹æ˜“ã€ç¤¾ç¾¤æ´»èº |
| æˆªåœ– | electron-capture + desktopCapturer | æ¡†é¸ã€overlayã€è¼¸å‡º blob |
| éŒ„å½± | Canvas compositor + MediaRecorder | å¿«é€Ÿã€è·¨å¹³å°ã€ä¸ä¾è³´ ffmpeg |

---

## æ ¸å¿ƒåŠŸèƒ½è¦æ ¼

### 1. ç™½æ¿æ¨¡çµ„ (Whiteboard)

**å¿…è¦åŠŸèƒ½**
- ç„¡é™ç•«å¸ƒï¼ˆå¹³ç§» / ç¸®æ”¾ï¼‰
- è²¼ä¸Šåœ–ç‰‡ï¼ˆä¾†è‡ªæˆªåœ–æˆ–æ‹–æ‹‰æª”æ¡ˆï¼‰
- æ–‡å­—å·¥å…·ï¼ˆMVP åªåšå–®ä¸€å­—é«”ã€2-3 ç¨®å¤§å°ï¼‰
- é¸å–ã€ç§»å‹•ã€ç¸®æ”¾ã€åˆªé™¤ç‰©ä»¶
- å°ˆæ¡ˆå­˜æª” / é–‹æª”

**è³‡æ–™æ ¼å¼**
```typescript
interface Project {
  schemaVersion: string;
  canvas: {
    viewportX: number;
    viewportY: number;
    zoom: number;
  };
  nodes: Node[];
  assets: Record<string, string>; // assetId -> filePath
}

interface Node {
  id: string;
  type: 'image' | 'text';
  x: number;
  y: number;
  width: number;
  height: number;
  rotation: number;
  // type-specific
  assetRef?: string;  // for image
  content?: string;   // for text
  fontSize?: number;  // for text
}
```

### 2. æˆªåœ–æ¨¡çµ„ (Screenshot)

**å¿…è¦åŠŸèƒ½**
- æ¡†é¸æˆªåœ–
- å…¨è¢å¹•æˆªåœ–
- æˆªåœ–å¾Œè‡ªå‹•æ’å…¥ç™½æ¿ä¸­å¿ƒ

**å¿«æ·éµ**
| å‹•ä½œ | å¿«æ·éµ |
|------|--------|
| æ¡†é¸æˆªåœ– | `Ctrl+Shift+2` |
| å…¨è¢å¹•æˆªåœ– | `Ctrl+Shift+3` |

**æµç¨‹**
```
æŒ‰å¿«æ·éµ â†’ é¡¯ç¤º overlay â†’ æ¡†é¸å€åŸŸ â†’ æ“·å–åƒç´  â†’ 
å­˜æˆ PNG â†’ æ’å…¥ç™½æ¿ä¸­å¿ƒ â†’ è‡ªå‹•é¸å–è©²åœ–ç‰‡
```

### 3. éŒ„å½±æ¨¡çµ„ (Recorder)

**å¿…è¦åŠŸèƒ½**
- éŒ„ç™½æ¿ç•«é¢ï¼ˆæ•´å€‹ Electron è¦–çª—ï¼‰
- éŒ„é¡é ­ï¼ˆå¯é–‹é—œï¼‰
- é¡é ­æ³¡æ³¡ï¼šå³ä¸‹è§’é è¨­ã€åœ“å½¢é®ç½©ã€å¯æ‹–æ›³ã€å¯èª¿å¤§å°
- éº¥å…‹é¢¨æ”¶éŸ³
- åŒ¯å‡º WebM

**åˆæˆæ¶æ§‹**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Compositor Canvas           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                  â”‚  â”‚
â”‚  â”‚      ç™½æ¿ç•«é¢ (ä¸»ç•«é¢)            â”‚  â”‚
â”‚  â”‚                                  â”‚  â”‚
â”‚  â”‚                         â”Œâ”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚                         â”‚ ğŸ“· â”‚  â”‚  â”‚
â”‚  â”‚                         â”‚æ³¡æ³¡ â”‚  â”‚  â”‚
â”‚  â”‚                         â””â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“ canvas.captureStream()
         â†“ + éº¥å…‹é¢¨ audio track
         â†“ MediaRecorder
         â†“
      output.webm
```

**é¡é ­æ³¡æ³¡è¦æ ¼**
- é è¨­ä½ç½®ï¼šå³ä¸‹è§’ï¼Œè·é‚Šç·£ 20px
- é è¨­å°ºå¯¸ï¼š120px ç›´å¾‘
- å¯æ‹–æ›³åˆ°ä»»æ„ä½ç½®
- å¯èª¿æ•´å¤§å°ï¼š80px ~ 200px
- åœ“å½¢é®ç½©ï¼ˆclip-path æˆ– canvas arc clipï¼‰

---

## æª”æ¡ˆçµæ§‹

```
shotboard/
â”œâ”€â”€ package.json
â”œâ”€â”€ electron/
â”‚   â”œâ”€â”€ main.ts              # Electron ä¸»é€²ç¨‹
â”‚   â”œâ”€â”€ preload.ts           # preload script
â”‚   â””â”€â”€ screenshot.ts        # æˆªåœ–é‚è¼¯
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ App.tsx
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ Whiteboard/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”‚   â””â”€â”€ useWhiteboard.ts
â”‚   â”‚   â”œâ”€â”€ Screenshot/
â”‚   â”‚   â”‚   â””â”€â”€ ScreenshotOverlay.tsx
â”‚   â”‚   â”œâ”€â”€ Recorder/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ CameraBubble.tsx
â”‚   â”‚   â”‚   â””â”€â”€ useRecorder.ts
â”‚   â”‚   â””â”€â”€ Toolbar/
â”‚   â”‚       â””â”€â”€ index.tsx
â”‚   â”œâ”€â”€ stores/
â”‚   â”‚   â””â”€â”€ projectStore.ts  # Zustand ç‹€æ…‹ç®¡ç†
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ compositor.ts    # Canvas åˆæˆé‚è¼¯
â”‚   â”‚   â””â”€â”€ fileSystem.ts    # æª”æ¡ˆè®€å¯«
â”‚   â””â”€â”€ types/
â”‚       â””â”€â”€ project.ts       # TypeScript å‹åˆ¥
â”œâ”€â”€ projects/                 # ä½¿ç”¨è€…å°ˆæ¡ˆå­˜æ”¾
â”‚   â””â”€â”€ [project-name]/
â”‚       â”œâ”€â”€ project.json
â”‚       â”œâ”€â”€ assets/
â”‚       â”‚   â””â”€â”€ *.png
â”‚       â””â”€â”€ recordings/
â”‚           â””â”€â”€ *.webm
```

---

## é–‹ç™¼ä»»å‹™æ¸…å–®

### P0 - å¿…é ˆå®Œæˆ (MVP æ ¸å¿ƒ)

- [ ] **å°ˆæ¡ˆåˆå§‹åŒ–**
  - [ ] Electron + React + TypeScript è…³æ‰‹æ¶
  - [ ] åŸºæœ¬è¦–çª—é…ç½®

- [ ] **ç™½æ¿åŸºç¤**
  - [ ] åµŒå…¥ Excalidraw
  - [ ] åœ–ç‰‡æ’å…¥åŠŸèƒ½
  - [ ] æ–‡å­—å·¥å…·

- [ ] **æˆªåœ–åŠŸèƒ½**
  - [ ] desktopCapturer å–å¾—è¢å¹•
  - [ ] æ¡†é¸ overlay UI
  - [ ] æ“·å–ä¸¦æ’å…¥ç™½æ¿

- [ ] **éŒ„å½±åŠŸèƒ½**
  - [ ] å–å¾—é¡é ­ stream
  - [ ] Canvas compositor åˆæˆ
  - [ ] MediaRecorder è¼¸å‡º WebM

- [ ] **æª”æ¡ˆç³»çµ±**
  - [ ] å°ˆæ¡ˆå­˜æª” (JSON + assets)
  - [ ] å°ˆæ¡ˆé–‹æª”

### P1 - åŠ åˆ†é … (MVP å¾Œ)

- [ ] å¿«æ·éµç³»çµ±å®Œå–„
- [ ] é¡é ­æ³¡æ³¡æ‹–æ›³ / èª¿æ•´å¤§å°
- [ ] éŒ„å½±æ™‚é–“é¡¯ç¤º
- [ ] ç³»çµ±éŸ³è¨Šæ”¶éŒ„
- [ ] åŒ¯å‡º MP4 (ffmpeg)
- [ ] å¤šå€‹é¡é ­åˆ‡æ›

### P2 - æœªä¾†æ“´å……

- [ ] ç­†åˆ· / æ‰‹å¯«
- [ ] ç‰ˆæœ¬å›æœ” / æ™‚é–“è»¸
- [ ] é›²ç«¯åŒæ­¥
- [ ] å¤šäººå”ä½œ

---

## é©—æ”¶æ¸…å–®

å®Œæˆä»¥ä¸‹é …ç›®å³è¦–ç‚º MVP éé—œï¼š

- [ ] å¿«æ·éµæ¡†é¸æˆªåœ–æˆåŠŸï¼Œèƒ½è²¼åˆ°ç™½æ¿
- [ ] åœ–ç‰‡å¯æ‹–æ›³ã€ç¸®æ”¾ã€åˆªé™¤
- [ ] æ–‡å­—æ¡†å¯æ–°å¢ã€ç·¨è¼¯ã€ç§»å‹•
- [ ] é–‹é¡é ­å¾Œå³ä¸‹è§’åœ“å½¢æ³¡æ³¡å‡ºç¾
- [ ] éŒ„å½±é–‹å§‹ / åœæ­¢å¯ç”¨ï¼Œè¼¸å‡º WebM å¯æ’­æ”¾
- [ ] å°ˆæ¡ˆèƒ½å­˜æª” / é–‹æª”

---

## æ˜ç¢ºä¸åš (é¿å… scope creep)

| åŠŸèƒ½ | åŸå›  |
|------|------|
| å¤šäººå”ä½œ | è¤‡é›œåº¦éé«˜ |
| ç‰ˆæœ¬å›æœ” / æ™‚é–“è»¸ | MVP ä¸éœ€è¦ |
| ç­†åˆ· / æ‰‹å¯« | æˆªåœ– + æ–‡å­—å·²è¶³å¤  |
| å¤šè»Œå‰ªè¼¯ã€å­—å¹•ã€ç‰¹æ•ˆ | éæ ¸å¿ƒåŠŸèƒ½ |
| åŒ¯å‡º MP4 | é¿å…å°å…¥ ffmpeg çš„è¤‡é›œåº¦ |

---

## æˆæ¬Šå‚™è¨»

| å¥—ä»¶ | æˆæ¬Š | å‚™è¨» |
|------|------|------|
| Excalidraw | MIT | âœ… å•†ç”¨è‡ªç”± |
| electron-capture | MIT | âœ… å•†ç”¨è‡ªç”± |
| WBO | AGPL-3.0 | âš ï¸ ä¸å»ºè­°ä½¿ç”¨ï¼Œæ„ŸæŸ“å‹æˆæ¬Š |
| tldraw | source-available | âš ï¸ æœ‰æ°´å°èˆ‡å•†ç”¨é™åˆ¶ |

---

## å¿«é€Ÿé–‹å§‹æŒ‡ä»¤

```bash
# å»ºç«‹å°ˆæ¡ˆ
npx create-electron-app shotboard --template=webpack-typescript

# å®‰è£æ ¸å¿ƒä¾è³´
npm install react react-dom @excalidraw/excalidraw zustand

# é–‹ç™¼
npm run start

# æ‰“åŒ…
npm run make
```